server {
	listen 80;
	server_name localhost;

	access_log /var/log/nginx/youpi_access.log notes;
	error_log /var/log/nginx/youpi_error.log;

	add_header X-uri "$uri" always;
	add_header X-cgi "$fastcgi_script_name" always;

	client_max_body_size 1000M;

	location / {
		if ($request_method != GET ) {
    		return 405;
  		}
		root /var/www/YoupiBanane;
		autoindex on;
	}
	
	location /put_test/ {
		dav_methods  PUT;
		if ($request_method != PUT ) {
    		return 405;
  		}
		alias /upload/;
	}

	location /post_body {
		if ($request_method != POST ) {
    		return 405;
  		}
		client_max_body_size 100;
	}

	location ~ \.bla$ {	
		if ($request_method != POST) {
    		return 405;
  		}
		
	}

	location /directory {
		if ($request_method != GET) {
    		return 405;
  		}
		alias /var/www/YoupiBanane;
		try_files $uri $uri/youpi.bad_extension =404;
	}

	location /scripts {
    	fastcgi_param REQUEST_METHOD $request_method;
    	fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		fastcgi_pass  unix:/var/run/fcgiwrap.socket;
	}

#	location /cgi/ {
#		gzip off;
#		root	/cgi;
#
#		fastcgi_pass  unix:/var/run/fcgiwrap.socket;
#
#		include /etc/nginx/fastcgi_params;
#
#		fastcgi_param SCRIPT_FILENAME  $document_root$fastcgi_script_name;
#	}

}

#
#server {
#	listen 80;
#
#	index index.html;
#	server_name static-site.42.fr;
#	root /var/www/static-site.42.fr;
#
#	access_log /var/log/nginx/static-site_access.log;
#	error_log /var/log/nginx/static-site_error.log;
#	error_page  405     =200 $uri;
#	location / {
#		#default_type text/plain;
#		#limit_except GET {
#		#	deny all;
#		#}
#		root /var/www/static-site.42.fr/html;
#	}
#
#	location /assets {
#		root /var/www/static-site.42.fr;
#	}
#}
#
#server {
#	listen 80;
#
#	index index.php;
#	root /var/www/dynamic-site.42.fr/;
#	server_name dynamic-site.42.fr;
#
#	access_log /var/log/nginx/dynamic-site_access.log;
#	error_log /var/log/nginx/dynamic-site_error.log;
#
#	location / {
#		try_files $uri $uri/ /index.php?$args;
#	}
#
#	location ~ \.php$ {
#		fastcgi_split_path_info ^(.+\.php)(/.+)$;
#		fastcgi_pass php:9000;
#		fastcgi_index index.php;
#		include fastcgi_params;
#		fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
#		fastcgi_param SCRIPT_NAME $fastcgi_script_name;
#	}
#}
